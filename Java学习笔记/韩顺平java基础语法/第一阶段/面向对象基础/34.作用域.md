---
outline: [2, 3]
sidebar: tue
aside: right
---

<h1 style="text-align: center; font-weight: bold;">作用域</h1>

---

## 全局变量

#### （1）全局变量指的是<span style="color:red">定义在</span>类中但在<span style="color:red">方法之外</span>的一些变量

#### （2）当变量作为<span style="color:red">类的属性</span>时，<span style="color:red">可以不赋值，有默认值</span>（类创建的默认初始化）

## 局部变量

#### （1）局部变量指的是<span style="color:red">定义在方法中</span>的变量，即除了属性之外的其他变量，作用域为定义它的代码块中

#### （2） <span style="color:red">必须赋值</span>后才可以使用，因为<span style="color:red">没有默认值</span>

## 作用域范围

#### （1） 全局变量：可以被本类使用，也可以被其他类使用（通过对象的调用）

#### （2） 局部变量：<span style="color:red">只能在本类中</span>对应的方法中使用

## 使用细节

#### （1）属性和局部变量<span style="color:red">可以重名</span>，访问时遵循<span style="color:red">就近原则</span>

#### （2）<span style="color:red">同一个作用域</span>中变量名<span style="color:red">不能重名</span>，否则会被解析为<span style="color:red">重定义而报错</span>

#### （3）全局变量的生命周期长，<span style="color:red">局部变量会随着方法调用的完成而销毁</span>，由于<span style="color:red">方法的调用</span>是临时申请一段<span style="color:red">栈空间</span>，调用<span style="color:red">完成后</span>就会<span style="color:red">释放</span>，即随着调用的完成会销毁

#### （4）<span style="color:red">修饰符</span>不同

> #### （1）<span style="color:red">全局</span>变量：<span style="color:red">可以</span>加修饰符
>
> #### （2）<span style="color:red">局部</span>变量：<span style="color:red">不可以</span>加修饰符

## 代码示例

```java
public class Test {
    public static void main(String[] args) {
        p ts = new p();

        ts.test();

        ts.test1();

        p1 ts1 = new p1();
        ts1.test();

    }
}

class p {
    int age = 10;

    public void test() {
        int age = 5;
        System.out.println(age);
    }

    public void test1() {
        System.out.println(age);
    }
}

class p1 {
    public void test() {
        p test_classp = new p();
        System.out.println(test_classp.age);
    }

}
```

#### 代码分析

#### （1）在 P 中使用两个方法验证了

> #### 变量的使用遵循就近原则
>
> #### 全局变量的作用范围（可以被本类中使用）

#### （2）在 P1 中使用了跨类调用，验证了全局变量除了可以被本类调用，还可以被其他类调用
