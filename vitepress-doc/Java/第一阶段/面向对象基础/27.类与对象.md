---
outline: [2, 3]
sidebar: tue
aside: right
---

<h1 style="text-align: center; font-weight: bold;">类与对象</h1>

---

## 基本介绍

> #### 知识迁移：类比 C 语言中的结构体

### 类的描述

> #### 类是一个对象的抽象，从字面意思就表示一个类的事物，类具有<span style="color:red">属性</span>和<span style="color:red">方法（行为）</span>，<span style="color:red">对象</span>是类的一个具体表现

#### 总结：<span style="color:red">类</span>是<span style="color:red">对象</span>的<span style="color:red">抽象</span>，<span style="color:red">对象</span>是<span style="color:red">类</span>的<span style="color:red">映射</span>

#### 举例：创建一个猫类

> #### <span style="color:red">属性</span>：姓名，年龄，体色.....
>
> #### <span style="color:red">方法（行为）</span>：吃饭，跑步....

### 对象的引出

> #### 由这个猫类可以映射出不同的猫（<span style="color:red">对象</span>），当<span style="color:red">属性</span>和<span style="color:red">方法</span>在<span style="color:red">变化</span>时只需要在<span style="color:red">类中</span>进行<span style="color:red">修改</span>就可以<span style="color:red">映射到不同的类上</span>，这也体现了<span style="color:red">类的便捷性</span>

### 类与对象的关系

> #### （1）类是抽象的、概念的，代表一类事物，比如人类、猫类……，即<span style="color:red">类</span>是一种数据类型（<span style="color:red">引用数据类型</span>）
>
> #### （2）<span style="color:red">对象</span>是<span style="color:red">具体</span>的、实际的，代表一个具体事物，即是<span style="color:red">实例</span>
>
> #### （3）<span style="color:red">类</span>是对象的<span style="color:red">抽象</span>，对象是类的一个个体，对应一个实例

---

## 类

### 如何创建类

> #### <span style="color:red">关键字 new</span>（new 对象）

#### 方式一：直接创建

```java
public class hello{
    public static void main(String[] args){
        person person1 = new person();  //直接创建
    }
}
class person{
    int age;
    String name;
    double height;
    String[] job; //属性既可以基本数据类型，也可以是引用类型
}
```

#### 方式二：先声明，后创建

```java
public class hello{
    public static void main(String[] args){
        //先声明一个对象，然后创建
        person person1;
        person1 = new person();
    }
}
class person{
    int age;
    String name;
    double height;
    String[] job; //属性既可以基本数据类型，也可以是引用类型
}
```

### ⭐ 底层创建机制

```java
person person1 = new person();
```

<h3><span style="color:red">⚠️对象在内存中的存在形式</span></h3>

![alt text](对象的内存形式.png)

#### 过程分析

#### （1）<span style="color:red">初始时</span>，当还没有创建 cat 这个类并用一个数据类型为 cat 这个类的一个对象接收时，<span style="color:red">cat 在栈空间中指向空</span>

#### （2）⭐ 类创建过程分析

> #### 1. <span style="color:red">在方法区加载类的属性和方法，只会加载一次</span>
>
> #### 2. 在堆空间中分配一段空间，存储类中的成员变量，初始为对应数据类型的默认值（<span style="color:red">默认初始化</span>），最后返回地址给 cat，使得 cat 指向这个堆空间
>
> #### 3. 当成员变量中有 String 出现时，会把 String 的属性值放到方法区中的<span style="color:red">常量池</span>里面，然后把<span style="color:red">地址返回给堆空间</span>中的 String
>
> #### 4. 构造器初始化（<span style="color:red">显示初始化</span>）

### 练习一

```java
Person p1 = new Person();
p1.age  = 10;
p1.name = "小明";

Person p2 = p1;
```

#### 问`P2`的属性是否和`P1`一致？

> #### 首先明确一点，类是引用类型，在传值的过程中传的地址，代码中把`P1`的地址赋给了`P2`,即`P1`和`P2`指向同一块堆空间，<span style="color:red">结果一致</span>

### 练习二

> #### 体会 b 的指向变化

```java
// Person.java
public class Person {
    public int age;
    public String name;
}

// Main.java
public class Main {
    public static void main(String[] args) {
        Person a = new Person();
        a.age = 10;
        a.name = "小明";

        Person b;
        b = a;

        System.out.println(b.name);  // 小明

        b.age = 200;
        b = null;

        System.out.println(a.age);  // 200
        System.out.println(b.age);  // 会抛出 NullPointerException
    }
}
```

## 属性（成员变量 / 字段）

> #### 成员变量 = 属性 = field ( 字段 )

### 访问修饰符

> #### 访问修饰符分类：<span style="color:red">public、protected、默认修饰符、private</span>
>
> #### 作用：用来控制属性的<span style="color:red">访问范围</span>

### 使用细节

> #### （1）属性的定义类型可以为任意类型，包含<span style="color:red">基本类型</span>和<span style="color:red">引用类型</span>
>
> #### （2）属性如果<span style="color:red">不赋值，有默认值</span>

| 数据类型                                          | 默认值                                |
| ------------------------------------------------- | ------------------------------------- |
| byte                                              | 0                                     |
| short                                             | 0                                     |
| int                                               | 0                                     |
| long                                              | 0L                                    |
| char                                              | <span style="color:red">\u0000</span> |
| float                                             | 0.0f                                  |
| double                                            | 0.0d                                  |
| <span style="color:red">String（是一个类）</span> | <span style="color:red">null</span>   |

> #### （3）属性的<span style="color:red">访问</span>方法：使用 <span style="color:red">类 . 属性</span> 的方式访问，可以用一个变量接收

#### 代码示例（这个时候还没有学习构造器，暂且使用赋值的方式完成初始化）

```java
public clas objectexercise{
    public static void main(String[] args){
        person person1 = new person();
        int age = person1.age = 18;
        double height = person1.height = 1.63;
        String name = person1.name = "jackson";
        person1.job = new String[] {"student","programmer"};
        String[] job = person1.job
        System.out.println("age: " + age);
        System.out.println("height: " + height);
        System.out.println("name: " + name);
        System.out.print("job: ");
        for(int i = 0; i < person1.job.length; i++){
            System.out.print("第" + (i+1) + "份工作是：" + person1.job[i] + " ");
        }
    }
}
class person{
    int age;
    String name;
    double height;
    String[] job; //属性既可以基本数据类型，也可以是引用类型
}

//输出结果
age: 18
height: 1.63
name: jackson
job: 第1份工作是：student 第2份工作是：programmer
```
